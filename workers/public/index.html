<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>myUTHM Shop - Home</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <header class="navbar">
        <div class="logo">
            <img class="logo-img" src="https://uthm.edu.my/images/uthm/favicon/mac_touch-icon.png">
            <span>myUTHM Shop</span>
        </div>
        <nav class="nav-links">
            <a href="index" class="current">Home</a>
            <a href="products">Products</a>
            <span id="username" style="color:white; font-weight:bold;"></span>
            <a href="login" id="loginLink">Login</a>
            <a href="cart" id="cartLink">Cart</a>
            <a href="#" id="logoutLink" onclick="logout()" style="display:none;">Logout</a>
        </nav>
    </header>

    <section class="banner">
        <h1>Welcome to myUTHM Shop!</h1>
        <p>Explore our products for all UTHM students.</p>
    </section>

    <section class="section">
        <h2 style="text-align:center;">Popular Products</h2>
        <div class="product-grid">
            <a href="detail?Pid=$[ProductA.Pid]">
                <div class="product-card">
                    <img src="$[ProductA.Image]" alt="$[ProductA.ProductName]" />
                    <h3>$[ProductA.ProductName]</h3>
                    <p>RM $[ProductA.Price]</p>
                </div>
            </a>
            <a href="detail?Pid=$[ProductB.Pid]">
                <div class="product-card">
                    <img src="$[ProductB.Image]" alt="$[ProductB.ProductName]" />
                    <h3>$[ProductB.ProductName]</h3>
                    <p>RM $[ProductB.Price]</p>
                </div>
            </a>
            <a href="detail?Pid=$[ProductC.Pid]">
                <div class="product-card">
                    <img src="$[ProductC.Image]" alt="$[ProductC.ProductName]" />
                    <h3>$[ProductC.ProductName]</h3>
                    <p>RM $[ProductC.Price]</p>
                </div>
            </a>
        </div>
    </section>

    <footer class="footer">
        <p>&copy; 2025 myUTHM Shop. All rights reserved.</p>
    </footer>

    <script>
        const uid = localStorage.getItem("uid");
        const name = localStorage.getItem("username");
        if (uid) {
            document.getElementById("cartLink").href = `cart?Uid=${uid}`;
            document.getElementById("loginLink").style.display = "none";
            document.getElementById("logoutLink").style.display = "inline-block";
            if (name) document.getElementById("username").textContent = name;
        }

        function logout() {
            localStorage.removeItem("uid");
            localStorage.removeItem("username");
            location.href = "login";
        }
    </script>
</body>

</html>
